
<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="author" content="临八1401" />
<title>一世临依</title>
<link rel="stylesheet" href="./css/index.css">
<link rel="icon" type="image/png" href="./image/logo/logo1.png" />
</head>

<body>
	<div id="canvas">
		<header id="header">
			<div id="logo">
				<h1 class="logo" style="letter-spacing: 0.0333333em;">
					<a href="./index.html"><img height="59.98" src="./image/logo/logo2.png" alt="一世邻依">
					</a>
				</h1>
			<div id="topNav" >
				<nav class="main-nav">
  				<ul>
      				<li class="page-collection">
            			<a href="./about.html" target="_blank">关于</a>
      				</li>
      				<li class="page-collection">
            			<a href="https://m.weibo.cn/u/5300354905?uid=5300354905&luicode=10000011&lfid=100103type%3D1%26q%3D%E6%B9%98%E9%9B%85%E4%B8%B4%E5%85%AB1401&featurecode=20000320" target="_blank">班级微博</a>
      				</li>
      				<li class="page-collection">
            			<a href="http://mp.weixin.qq.com/profile?src=3&timestamp=1509102855&ver=1&signature=kqvw9TNhBqQEbG3kWPWpNOAVWbR8P82acgRQJfIFDOG9YEeZp6K3beFoeWo93cp-*RaJ7NL3Ua*trH2sqiKYgA==">班级微信</a>
      				</li>
      				<li class="page-collection">
            			<a href="./index.html">...</a>
      				</li>
				</ul>
				</nav>
			</div>
		</header>

<div class="imageRotation">	
	<div class="imageBox">
		<a href="http://www.itxueyuan.org" target="_blank"><img src="./image/index_image/1.jpg" /></a>
		<a href="http://www.itxueyuan.org" target="_blank"><img src="./image/index_image/2.jpg" /></a>
		<a href="http://www.itxueyuan.org" target="_blank"><img src="./image/index_image/3.jpg" /></a>
		<a href="http://www.itxueyuan.org" target="_blank"><img src="./image/index_image/4.jpg" /></a>
        <a href="http://www.itxueyuan.org" target="_blank"><img src="./image/index_image/5.jpg" /></a>
	</div>
	<div class="icoBox">
		<span class="active" rel="1">1</span>
		<span rel="2">2</span>
		<span rel="3">3</span>
		<span rel="4">4</span>
        <span rel="5">5</span>
	</div>
</div>
<!-- 
		<h3 class="main_img">
			<img  src="./image/collections_all/tiny_1401.jpg" />
		</h3> -->
	</div>

	
	<script type="text/javascript" src="./js/jquery.js"></script>
	<script type="text/javascript">
$(document).ready(function() {
	$(".imageRotation").each(function(){
		// 获取有关参数
		var imageRotation = this,  // 取得 图片轮换容器
			imageBox = $(imageRotation).children(".imageBox")[0],  // 取得 图片容器
			icoBox = $(imageRotation).children(".icoBox")[0],  // 取得 图标容器
			icoArr = $(icoBox).children(),  // 取得所有图标，并保存为数组
			imageWidth = $(imageRotation).width(),  // 图片宽度
			imageNum = $(imageBox).children().size(),  // 图片数量
			imageReelWidth = imageWidth*imageNum,  // 图片容器宽度
			activeID = parseInt($($(icoBox).children(".active")[0]).attr("rel")),  // 当前图片ID
			nextID = 0,  // 下张图片ID
			setIntervalID,  // setInterval() 函数ID
			intervalTime = 2000,  // 间隔时间
			speed =400;  // 执行速度
		
		// 设置 图片容器 的宽度
		$(imageBox).css({'width' : imageReelWidth + "px"});
		
		// 图片轮换函数
		var rotate=function(clickID){
			if(clickID){ nextID = clickID; }
			else{ nextID=activeID<=3 ? activeID+1 : 1; }
			
			$(icoArr[activeID-1]).removeClass("active");
			$(icoArr[nextID-1]).addClass("active");
			$(imageBox).animate({left:"-"+(nextID-1)*imageWidth+"px"} , speed);
			
			activeID = nextID;
		}
		setIntervalID=setInterval(rotate,intervalTime);
		
		$(imageBox).hover(
			function(){ clearInterval(setIntervalID); },
			function(){ setIntervalID=setInterval(rotate,intervalTime); }
		);	
		
		$(icoArr).click(function(){
			clearInterval(setIntervalID);
			var clickID = parseInt($(this).attr("rel"));
			rotate(clickID);
			setIntervalID=setInterval(rotate,intervalTime);
		});
	});
});
</script>

</body>